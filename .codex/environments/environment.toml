# THIS IS AUTOGENERATED. DO NOT EDIT MANUALLY
version = 1
name = "WarmupCalculator"

[setup]
script = ""

[[actions]]
name = "Run"
icon = "run"
command = '''
set -euo pipefail

cd /Users/arthur/Downloads/WarmupCalculator

DERIVED=/tmp/WarmupCalculatorDerived
BUNDLE_ID=com.arthurmassias.WarmupCalculator
DEVICE_NAME="iPhone 16"

UDID=$(xcrun simctl list devices available | grep -F -m1 "$DEVICE_NAME (" | sed -E 's/.*\(([0-9A-F-]+)\).*/\1/')
if [ -z "${UDID:-}" ]; then
  UDID=$(xcrun simctl list devices available | grep -F -m1 "iPhone 17 (" | sed -E 's/.*\(([0-9A-F-]+)\).*/\1/')
fi

xcodebuild -project WarmupCalculator.xcodeproj -scheme WarmupCalculator -configuration Debug \
  -sdk iphonesimulator -derivedDataPath "$DERIVED" \
  -destination "id=$UDID" build

APP="$DERIVED/Build/Products/Debug-iphonesimulator/WarmupCalculator.app"

xcrun simctl boot "$UDID" || true
open -a Simulator --args -CurrentDeviceUDID "$UDID" || true
xcrun simctl install "$UDID" "$APP"
xcrun simctl launch "$UDID" "$BUNDLE_ID"
'''
